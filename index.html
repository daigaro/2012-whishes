<html>
	<head>
		<title>Best of wishes for 2012</title>
		<link rel="stylesheet" type="text/css" href="css/scene.css"/>
		<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
		<script type="text/javascript" src="js/raphael-min.js"></script>
		<script type="text/javascript" src="js/jsAnim.js"></script>
		<script type="text/javascript" src="js/scene.js"></script>
		<script type="text/javascript">
			var numberOfLayers = 4;
			var numberOfCloudsPerLayer = 5;
			
			$(function(){
				new Moon('moon');
				prepareWeather(numberOfLayers, numberOfCloudsPerLayer);
				$(".cloud").each(function(index, element){
					var elementId = "cloud" + index;
					$(element).attr("id", elementId);
					$(element).css({left: Math.random() * screen.width});
					new Cloud(elementId, 200, 100);
				});
				
				var w = screen.width, h = screen.height;
				var constellationPaper = Raphael("constellation", w, h);
				for (index = 0; index < 100; index++) {
					constellationPaper.circle(Math.random() * w, Math.random() * h, 1 + 3 * Math.random()).attr({fill: "white", stroke: "white"});
				}
				
				for (index = 0; index < numberOfLayers; index++) {
					var dt = 10000 * (1 - index / numberOfLayers);
					var manager = new jsAnimManager(40);
					var anim = manager.createAnimObject('layer' + index);
					anim.add({property: Prop.left, from: 0, to: screen.width, duration: dt});
				}				
			});
		</script>
	</head>
	<body>
		<div id="scene">
			<div id="constellation"></div>
			<div id="moon"></div>
			<div class="weather"></div>
		</div>
	</body>
</html>
