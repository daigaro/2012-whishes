<html>
	<head>
		<title>Best of wishes for 2012</title>
		<link rel="stylesheet" type="text/css" href="css/scene.css"/>
		<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
		<script type="text/javascript" src="js/jquery.base64.min.js"></script>
		<script type="text/javascript" src="js/raphael-min.js"></script>
		<script type="text/javascript" src="js/jsAnim.js"></script>
		<script type="text/javascript" src="js/scene.js"></script>
		<script type="text/javascript" src="js/requestParameters.js"></script>
		<script type="text/javascript">
			var parameters = requestParameters();
			console.log(parameters);
			var numberOfStars = parameters.s || 100;
			var numberOfLayers = parameters.l || 4;
			var numberOfCloudsPerLayer = parameters.c || 5;
			var text = $.base64.decode(unescape(parameters.m)) || "<h1>Happy 2012!</h1>";
			
			$(function(){
				$("#message").hide().append(text);

				new Constellation("constellation", screen.width, screen.height, numberOfStars);
				new Moon('moon');
				prepareWeather(numberOfLayers, numberOfCloudsPerLayer);
				makeClouds();				
				animateClouds(numberOfLayers);
				new Landscape("landscape", screen.width, 175);
				new House("house");
				
				setTimeout(function(){
					$("#message").fadeIn(2000);
				},10000);
			});
		</script>
	</head>
	<body>
		<div id="scene">
			<div id="constellation"></div>
			<div id="moon"></div>
			<div class="weather"></div>
			<div id="landscape"></div>
			<div id="house"></div>
			<div id="message"></div>
		</div>
	</body>
</html>
